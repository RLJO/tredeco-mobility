<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record id="stock_picking_form_view_inherit" model="ir.ui.view">
            <field name="name">stock.picking.form.inherit</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.view_picking_form"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@name='button_validate'][1]" position='attributes'>
                    <attribute name="groups">stock.group_stock_manager</attribute>
                </xpath>
                <xpath expr="//button[@name='button_validate'][2]" position='attributes'>
                    <attribute name="groups">stock.group_stock_manager</attribute>
                </xpath>
                
            </field>
        </record>







<!--        inventory valuation part-->

        <record id="view_stock_quantity_history_new" model="ir.ui.view">
            <field name="name">Inventory Report</field>
            <field name="model">stock.quantity.history</field>
            <field name="arch" type="xml">
                <form string="Choose your date">
                    <group>
                        <group>
                            <field name="compute_at_date" widget="radio"/>
                            <field name="date" attrs="{'invisible': [('compute_at_date', '=', 0)]}"/>
                        </group>
                    </group>
                    <footer>
                        <button name="open_table_new" string="Retrieve the Inventory Quantities" type="object" class="btn-primary"/>
                        <button string="Cancel" class="btn-secondary" special="cancel" />
                    </footer>
                </form>
            </field>
        </record>

        <record id="action_stock_inventory_valuation_new" model="ir.actions.act_window">
            <field name="name">Inventory Valuation</field>
            <field name="res_model">stock.quantity.history</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="tredeco_access_writes.view_stock_quantity_history_new"/>
            <field name="target">new</field>
            <field name="context">{'default_compute_at_date': 0, 'valuation': True}</field>
        </record>

        <menuitem id="menu_valuation_with_quants" name="Inventory Valuation With Quants" parent="stock.menu_warehouse_report" sequence="111" action="action_stock_inventory_valuation_new"/>

        <record id="view_stock_product_tree_new" model="ir.ui.view">
            <field name="name">product.stock.tree.2</field>
            <field name="model">product.product</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="display_name"/>
                    <field name="qty_at_date"/>
                    <field name="uom_id" groups="uom.group_uom"/>
                    <field name="currency_id" invisible="1"/>
<!--                    <field name="stock_value" sum="Stock Valuation" widget="monetary"/>-->
<!--                    <field name="cost_method" invisible="1"/>-->
<!--                    <button name="action_valuation_at_date_details" type="object" icon="fa-info-circle" aria-label="Valuation" title="Valuation" attrs="{'invisible': [('cost_method', '!=', 'fifo')]}" />-->
                </tree>
            </field>
        </record>

    </data>
</openerp>
